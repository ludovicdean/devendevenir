---
title : "C'est quoi un hash"
tags :
- I-culture
description : "Vous utilisez des hash au quotidien, mais vous ignorez ce que c'est ? D√©couvrons-le ensemble !"
banner : "/images/mauro-sbicego-4hfpVsi-gSg-unsplash.jpg"
authorlink : "https://unsplash.com/fr/@maurosbicego?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash"
unsplashlink : "https://unsplash.com/fr/photos/table-de-mixage-audio-noire-4hfpVsi-gSg?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash"
author : "Mauro Sbicego"
tableData1 :
  headers : ['algorithme', 'nombre de valeurs possibles']
  rows :
  - ['MD-5', '2^128']
  - ['SHA-1', '2^160']
  - ['SHA-256', '2^256']
  - ['SHA-512', '2^512']
---
import DataTable from "../../components/DataTable.astro";

√Ä l'heure de l'informatique quantique, ils commencent √† trembler devant leur relative fragilit√©, mais notre monde, submerg√© d'identifiants et de mots de passe en regorge encore, je veux parler des mots de passes et leurs alter egos, les hash.

Pour notre s√©curit√© et la s√©curit√© des applications, on a l'habitude de ne PAS stocker les mots de passe des utilisateurs d'une application en clair. Un simple coup d'≈ìil et un d√©veloppeur aurait votre identifiant et votre mot de passe, sans avoir √† vous consulter ? Impensable, et c'est ici qu'interviennent les hash !

## C'est quoi un hash ?

Un hash, c'est ce qu'on stocke dans nos bases de donn√©es en lieu et place de votre mot de passe. Bien hardi celui qui saura dire que 095d15cc4fc6c4b1a36fb0a03b04f4a8 correspond √† "devendevenir" en clair. Une application se fiche litt√©ralement de conna√Ætre votre mot de passe, elle a besoin de savoir que VOUS connaissez VOTRE mot de passe. Quand vous vous connectez √† une application, celle-ci calcule le hash du mot de passe que vous venez de saisir et le compare au hash stock√© dans sa base de donn√©es en face de votre identifiant. 

En th√©orie, une fonction de hachage est une fonction math√©matique qui a les propri√©t√©s suivantes :

- d√©terministe : si A devient B, ce sera toujours le cas.
- uniforme : tous les r√©sultats ont les m√™mes chances d'√™tre produits.
- un petit changement change grandement le r√©sultat.
- r√©sistante aux collisions : chances minimes que 2 textes diff√©rents aboutissent au m√™me hash
- unidirectionnelle : impossibilit√© de remonter de B vers A.

En pratique, une empreinte digitale est quelque part le hash d'un √™tre humain :

- elle est unique.
- toutes les formes d'empreintes ont autant de chances d'√™tre produits.
- la moindre blessure modifie l'empreinte.
- personne n'a de jumeau d'empreintes digitales.
- impossible de reconstruire un humain √† partir de son empreinte.

Maintenant que vous appr√©hendez mieux le concept, penchons-nous sur l'histoire des fonctions de hash.

## Un peu d'histoire

Dans un premier temps, faisons un saut de 75 ans dans le pass√© pour rencontrer le p√®re des fonctions de hachage.

### Un peu de chimie ?

Les premi√®res recherches autour des fonctions de hachage nous viennent de la recherche documentaire. Un certain Hans Peter Luhn, chercheur chez IBM, s'est vu d√©fi√© par des coll√®gues lui demandant d'am√©liorer la recherche de mol√©cules stock√©es sous un format cod√©.

Il apportera dans un premier temps une r√©ponse √† base de cartes perfor√©es, puis se tournera vers l'informatique pour r√©pondre √† ce type de probl√®mes. Il a laiss√© derri√®re lui nombre d'outils encore utilis√©s de nos jours (les r√©sum√©s automatiques, l'auto-indexation, etc.).

Ses travaux seront repris ensuite par d'autres chercheurs et seront √† l'origine de nombre d'algorithmes de hachage.

### L'homme derri√®re MD-5

Avant d'aller plus loin dans la d√©couverte des hash, arr√™tons-nous quelques instants sur l'un des grands contributeurs de leur histoire, Ronald Rivest. Il s'agit d'un cryptologue am√©ricain, c'est-√†-dire un sp√©cialiste du chiffrement.

Ronald Rivest a d√©crit l'algorithme MD-4 dans une publication de 1990, que les plus matheux d'entre-vous peuvent retrouver [ici](https://link.springer.com/chapter/10.1007/3-540-38424-3_22). Il d√©crit ici une fonction de hachage comme un algorithme qui prend en entr√©e un message de longueur arbitraire et produit une sortie de 128 bits (longueur fixe) d√©crit comme le message r√©sum√© (message digest, d'o√π MD dans MD-4).

Tout l'int√©r√™t de cette fonction r√©side dans le fait que l'ex√©cuter pour "chiffrer" un texte est peu co√ªteux, mais que r√©aliser l'op√©ration inverse est pratiquement impossible, ou infaisable dans un temps raisonnable. Par ailleurs, il est presque impossible que deux textes diff√©rents produisent le m√™me r√©sultat.

### Les premiers algorithmes

Dans le cas du MD-5 (descendant direct du MD-4), on peut d√©crire les op√©rations successives subies par le message initial ainsi :

- Pr√©paration : allongement du message pour atteindre une taille sp√©cifique.
- Traitement : le message est d√©coup√© en blocs de taille √©gale, auxquels on fait subir une s√©rie d'op√©rations math√©matiques.
- Finalisation : combinaison des r√©sultats pour produire l'empreinte finale.

Le MD-5 fais maintenant partie de l'histoire ancienne, car il pr√©sente trop de vuln√©rabilit√©s :

- attaques par dictionnaires : permet d'acc√©l√©rer les recherches en r√©duisant les combinaisons √† tester.
- attaques par collisions : deux textes diff√©rents donnant le m√™me hash MD-5.
- vitesse du MD-5 : la rapidit√© du MD-5 est un atout jusqu'au moment o√π elle devient un atout pour les attaques par force brute.

Du fait du nombre relativement limit√© de valeurs de hash possibles, ce type d'algorithme est vuln√©rable aux attaques avec des rainbow tables, qui sont des tables contenant un tr√®s grand nombre de mots et leur empreinte. Ce type d'outils permet notamment d'√©carter de grandes plages de valeurs possibles de hash et de remonter rapidement vers la vraie valeur et donc la donn√©e initiale.

L'√©volution des fonctions de hachage a men√© vers des domaines de valeurs possibles de plus en plus larges :

<DataTable data={frontmatter.tableData1} />

## La NSA entre dans la danse

La recherche d'algorithmes plus s√©curis√©s a beaucoup avanc√© gr√¢ce aux travaux de la NSA (National Security Agency) am√©ricaine sur le sujet. Le SHA-1 a √©t√© l'un des premiers algorithmes adopt√©s par le grand public (1995). Une dizaine d'ann√©es plus tard, il a √©t√© d√©montr√© que des failles permettaient de r√©aliser des attaques compromettant fortement les hash g√©n√©r√©s.

√Ä partir de 2013, l'algorithme sera progressivement d√©clar√© obsol√®te, et progressivement remplac√© par le SHA-2.

## De nos jours

On travaille pr√©f√©rentiellement avec des algorithmes de hachage plus difficiles √† attaquer, comme Bcrypt (1999), Scrypt (2012) et Argon2 (2017). Le temps d'ex√©cution plus long que pour d'autres algorithmes rend les attaques par force brute trop co√ªteuses en termes de temps. Ces algorithmes ont √©galement l'avantage d'√™tre param√©trables. On peut en effet r√©gler les param√®tres suivants :

- le nombre d'it√©rations effectu√© sur chaque bloc du message.
- ajout d'un sel au message.

L√† o√π le MD-5 √©tait vuln√©rable aux attaques avec des rainbow tables, l'arriv√©e des algorithmes tels que Bcrypt, Scrypt et Argon2 a permis, gr√¢ce √† leur param√©trabilit√©, de largement augmenter la difficult√© de ce type d'attaque, non pas par l'augmentation du nombre de possibilit√©s, mais par l'allongement consid√©rable des temps de calcul.

Ces fonctions sont aussi r√©sistantes aux attaques men√©es avec des tables arc-en-ciel gr√¢ce √† l'utilisation de sel combin√© au mot de passe saisi.

## Autres usages

Quand on t√©l√©charge un fichier, on trouve parfois mention de la SHA-sum du fichier. Il s'agit du r√©sultat du hachage de ce fichier avec une fonction de hachage comme SHA-1 ou SHA-256. Sur la page de [t√©l√©chargement](https://nodejs.org/en/download) de NodeJS, on nous indique comment v√©rifier la SHA sum de notre t√©l√©chargement.

Si on obtient une empreinte diff√©rente de celle indiqu√©e sur le site web, c'est que le fichier t√©l√©charg√© a √©t√© alt√©r√© et qu'il ne faut probablement pas le conserver ou l'ex√©cuter.

C'est √©galement la base de la blockchain, ce qui permet de s'assurer de l'int√©grit√© et de la s√©curit√© des transactions.

## Des enjeux majeurs

Jusque-l√†, nous comptions sur la lenteur des calculs n√©cessaire √† remonter d'un hash √† la valeur initiale pass√©e √† notre fonction de hachage. Mais d√©sormais, l'informatique quantique, avec sa capacit√© √† r√©duire les temps de calculs de mani√®re consid√©rable (de 47 ans √† quelques secondes), menace directement tous les syst√®mes reposant sur ce type d'outils.

Cela a pouss√© le monde de la recherche, publique comme priv√©e, sur la piste de nouvelles techniques de cryptographie quantique, offrant la m√™me r√©sistance que les fonctions de hachage en leur temps.

Cela signifierait par ailleurs la fin d'autres techniques cryptographiques, comme le chiffrement RSA, sur lequel repose l'ensemble des transactions bancaires.

## Conclusion

Maintenant, vous comprenez mieux la notion de hash, et vous avez √©limin√© un terme de plus dans votre liste de mots √† √©claircir ! Et si vous vous dites que √ßa ne sert √† rien, d√©trompez-vous !

Vous en utilisez plus souvent que vous ne le pensez ! J'ai d'ailleurs moi-m√™me r√©alis√© un outil de g√©n√©ration de hash MD-5 quelques mois avant mes d√©buts de d√©veloppeurs üòÖ.
